---
import type { Tables } from '@config/supabase.types.ts';

interface Props {
  campaigns: Tables<'campaigns'>[];
  donors: Tables<'donors'>[];
}

const { campaigns, donors } = Astro.props;

const totalAmountRaised = donors.reduce(
  (sum, donor) => (sum += donor.amount || 0),
  0
);
---

<section
  class='bg-[conic-gradient(at_bottom_left,_var(--tw-gradient-stops))] from-yellow-200 via-green-200 to-green-500 text-lg my-8 p-8 lg:py-12 lg:px-16'
>
  <div
    class='grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-16 justify-start lg:justify-evenly'
  >
    <div class='border-s-2 ps-6 border-black lg:ps-0 lg:border-none'>
      <p class='text-4xl lg:text-7xl font-bold tracking-wider'>
        {totalAmountRaised}$
      </p>
      <p>Total funds collected since 2023</p>
    </div>

    <div class='border-s-2 ps-6 border-black lg:ps-0 lg:border-none'>
      <p class='text-4xl lg:text-7xl font-bold tracking-wider'>
        {campaigns.length}
      </p>
      <p>Supported fundraising campaigns</p>
    </div>

    <div class='border-s-2 ps-6 border-black lg:ps-0 lg:border-none'>
      <p class='text-4xl lg:text-7xl font-bold tracking-wider'>
        {donors.length}
      </p>
      <p>Contributors</p>
    </div>
  </div>
</section>
