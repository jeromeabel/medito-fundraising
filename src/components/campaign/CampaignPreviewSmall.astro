---
import type { Tables } from '@config/supabase.types.ts';

import { Image } from 'astro:assets';

interface Props {
  campaign: Tables<'campaigns'>;
}

const { campaign } = Astro.props;
const imageSrc = `${campaign.image_link}?q=80&w=400&auto=format&fit=crop`;
---

<a href={`/campaign/${campaign.id}`} class='border flex hover:bg-gray-100'>
  <div class=''>
    <Image
      src={imageSrc}
      width={250}
      height={200}
      alt={campaign.title}
      class='h-full object-cover'
    />
  </div>

  <div class='px-6 py-4 flex-1 flex flex-col gap-1 justify-between'>
    <h2 class='text-lg lg:text-xl font-bold'>{campaign.title}</h2>
    <p>{campaign.description}</p>
    <p
      class='text-sm md:text-base px-3 py-1 bg-gray-300 text-gray-600 rounded max-w-fit'
    >
      Goal: {campaign.goal}$
    </p>
  </div>
</a>
