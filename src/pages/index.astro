---
import { getJson } from '@services/fetchAPI';
import type { Tables } from '@config/supabase.types.ts';

import Layout from '@layouts/Layout.astro';
import CampaignsPreview from '@components/campaign/CampaignsPreview.astro';
import Hero from '@components/base/Hero.astro';

const campaigns: Tables<'campaigns'>[] = await getJson(
  `${Astro.url.origin}/api/campaigns`
);
---

<Layout>
  <Hero />
  <CampaignsPreview {campaigns} />
</Layout>
