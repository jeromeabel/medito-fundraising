---
import { getJson } from '@services/fetchAPI';
import type { Tables } from '@config/supabase.types.ts';

import Layout from '@layouts/Layout.astro';
import H1 from '@components/base/H1.astro';
import H2 from '@components/base/H2.astro';
import CampaignsPreview from '@components/campaign/CampaignsPreview.astro';

const campaigns: Tables<'campaigns'>[] = await getJson(
  `${Astro.url.origin}/api/campaigns`
);
---

<Layout>
  <H1>Home</H1>
  <CampaignsPreview {campaigns} />
</Layout>
