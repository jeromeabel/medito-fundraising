---
import { getJson } from '@services/fetchAPI';
import type { Tables } from '@config/supabase.types.ts';
import Layout from '@layouts/Layout.astro';
import CampaignDetails from '@components/campaign/CampaignDetails.astro';

const { id } = Astro.params;

const campaign: Tables<'campaigns'> = await getJson(
  `${Astro.url.origin}/api/campaign/${id}`
);
---

<Layout title={campaign.title || 'Details'}>
  <CampaignDetails {campaign} />
</Layout>
